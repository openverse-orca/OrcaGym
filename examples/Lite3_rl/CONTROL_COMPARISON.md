# Lite3 控制力度对比

## 📊 原项目 (Lite3_rl_deploy) vs OrcaGym 当前实现

### 配置值对比

| 控制类型 | 原项目配置 | OrcaGym当前配置 | 实际速度值 | 归一化后 | 状态 |
|---------|-----------|----------------|-----------|---------|------|
| **前进速度** | 0.5 m/s | 0.5 m/s | 0.5 m/s | 1.0 | ✅ 一致 |
| **后退速度** | -0.5 m/s | -0.5 m/s | **-0.25 m/s** | **-0.5** | ⚠️ 降低50% |
| **左移速度** | 0.3 m/s | 0.3 m/s | 0.3 m/s | 1.0 | ✅ 一致 |
| **右移速度** | -0.3 m/s | -0.3 m/s | -0.3 m/s | -1.0 | ✅ 一致 |
| **转向速度** | π/4 rad/s (0.785) | π/4 rad/s (0.785) | ±0.785 rad/s | ±1.0 | ✅ 一致 |

### 按键映射对比

| 按键 | 原项目功能 | OrcaGym当前功能 | 实际速度值 | 归一化后 | 状态 |
|------|-----------|----------------|-----------|---------|------|
| **W** | 前进 | 前进 | 0.5 m/s | 1.0 | ✅ 一致 |
| **S** | 后退 | 后退（降低50%） | -0.25 m/s | -0.5 | ⚠️ 速度降低 |
| **A** | 左移 | 左移 | 0.3 m/s | 1.0 | ✅ 一致 |
| **D** | 右移 | 右移 | -0.3 m/s | -1.0 | ✅ 一致 |
| **Q** | 顺时针旋转 | 顺时针旋转 | 0.785 rad/s | 1.0 | ✅ 一致 |
| **E** | 逆时针旋转 | 逆时针旋转 | -0.785 rad/s | -1.0 | ✅ 一致 |

### 速度缩放系数

| 控制方向 | 缩放系数 | 说明 |
|---------|---------|------|
| **前进 (W)** | 1.0（无缩放） | 使用完整速度 |
| **后退 (S)** | 0.5（50%缩放） | 降低速度以改善策略对负值命令的响应 |
| **左移 (A)** | 1.0（无缩放） | 使用完整速度 |
| **右移 (D)** | 1.0（无缩放） | 使用完整速度（已修复，移除缩放） |

### 命令平滑处理

| 参数 | 值 | 说明 |
|------|-----|------|
| **平滑启用** | True | 使用指数移动平均 |
| **平滑系数 (α)** | 0.3 | 30%新值 + 70%旧值 |
| **作用** | 减少命令突变 | 改善控制稳定性，避免卡顿 |

---

## ✅ 当前状态总结

### 已修复的问题
1. ✅ **左右移动对称性**：A键和D键都使用完整速度，归一化后为±1.0
2. ✅ **Kd值**：已修改为1.0，与原项目一致
3. ✅ **初始高度**：已调整提高10cm（0.101 m）

### 保留的优化
1. ⚠️ **后退速度降低**：当前使用50%速度（-0.25 m/s），以改善策略对负值命令的响应
2. ✅ **命令平滑**：添加指数移动平均以减少命令突变

### 建议
- **如需完全匹配原项目**：可以将后退速度恢复为-0.5 m/s（移除`backward_speed_scale`）
- **当前配置**：后退速度降低50%是为了改善策略响应，如果策略对负值命令训练不足，可能需要保留此优化

---

**文档版本**: v2.0  
**最后更新**: 2024  
**对比基准**: Lite3_rl_deploy vs OrcaGym-dev
